/*! PhotoSwipe Default UI - 4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(e,t){var n,o,l,r,i,s,a,u,c,d,p,m,f,h,w,g,v,_,b,C,I=this,T=!1,E=!0,F=!0,x={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},S=function(e){if(_)return!0;e=e||window.event,v.timeToIdle&&v.mouseUsed&&!p&&D();for(var n,o,l=(e.target||e.srcElement).getAttribute("class")||"",r=0;r<Z.length;r++)(n=Z[r]).onTap&&l.indexOf("pswp__"+n.name)>-1&&(n.onTap(),o=!0);if(o){e.stopPropagation&&e.stopPropagation(),_=!0;var i=t.features.isOldAndroid?600:30;setTimeout(function(){_=!1},i)}},k=function(e,n,o){t[(o?"add":"remove")+"Class"](e,"pswp__"+n)},K=function(){var e=1===v.getNumItemsFn();e!==g&&(k(o,"ui--one-slide",e),g=e)},L=function(){k(c,"share-modal--hidden",F)},O=function(){return(F=!F)?(t.removeClass(c,"pswp__share-modal--fade-in"),setTimeout(function(){F&&L()},300)):(L(),setTimeout(function(){F||t.addClass(c,"pswp__share-modal--fade-in")},30)),F||y(),!1},R=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),F||O(),1))},y=function(){for(var e,t,n,o,l="",r=0;r<v.shareButtons.length;r++)e=v.shareButtons[r],t=v.getImageURLForShare(e),n=v.getPageURLForShare(e),o=v.getTextForShare(e),l+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(o))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",v.parseShareButtonOut&&(l=v.parseShareButtonOut(e,l));c.children[0].innerHTML=l,c.children[0].onclick=R},z=function(e){for(var n=0;n<v.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+v.closeElClasses[n]))return!0},M=0,D=function(){clearTimeout(C),M=0,p&&I.setIdle(!1)},A=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(C),C=setTimeout(function(){I.setIdle(!0)},v.timeToIdleOutside))},P=function(e){h!==e&&(k(f,"preloader--active",!e),h=e)},U=function(n){var i=n.vGap;if(!e.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth){var s=v.barsSize;if(v.captionEl&&"auto"===s.bottom)if(r||((r=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),o.insertBefore(r,l),t.addClass(o,"pswp__ui--fit")),v.addCaptionHTMLFn(n,r,!0)){var a=r.clientHeight;i.bottom=parseInt(a,10)||44}else i.bottom=s.top;else i.bottom="auto"===s.bottom?0:s.bottom;i.top=s.top}else i.top=i.bottom=0},Z=[{name:"caption",option:"captionEl",onInit:function(e){l=e}},{name:"share-modal",option:"shareEl",onInit:function(e){c=e},onTap:function(){O()}},{name:"button--share",option:"shareEl",onInit:function(e){u=e},onTap:function(){O()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){i=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onInit:function(e){s=e},onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onInit:function(e){a=e},onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){f=e}}];I.init=function(){var i;t.extend(e.options,x,!0),v=e.options,o=t.getChildByClass(e.scrollWrap,"pswp__ui"),(m=e.listen)("onVerticalDrag",function(e){E&&e<.95?I.hideControls():!E&&e>=.95&&I.showControls()}),m("onPinchClose",function(e){E&&e<.9?(I.hideControls(),i=!0):i&&!E&&e>.9&&I.showControls()}),m("zoomGestureEnded",function(){(i=!1)&&!E&&I.showControls()}),m("beforeChange",I.update),m("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(v.getDoubleTapZoom(!1,e.currItem),t,333)}),m("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(o.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),m("bindEvents",function(){t.bind(o,"pswpTap click",S),t.bind(e.scrollWrap,"pswpTap",I.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",I.onMouseOver)}),m("unbindEvents",function(){F||O(),b&&clearInterval(b),t.unbind(document,"mouseout",A),t.unbind(document,"mousemove",D),t.unbind(o,"pswpTap click",S),t.unbind(e.scrollWrap,"pswpTap",I.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",I.onMouseOver),n&&(t.unbind(document,n.eventK,I.updateFullscreen),n.isFullscreen()&&(v.hideAnimationDuration=0,n.exit()),n=null)}),m("destroy",function(){v.captionEl&&(r&&o.removeChild(r),t.removeClass(l,"pswp__caption--empty")),c&&(c.children[0].onclick=null),t.removeClass(o,"pswp__ui--over-close"),t.addClass(o,"pswp__ui--hidden"),I.setIdle(!1)}),v.showAnimationDuration||t.removeClass(o,"pswp__ui--hidden"),m("initialZoomIn",function(){v.showAnimationDuration&&t.removeClass(o,"pswp__ui--hidden")}),m("initialZoomOut",function(){t.addClass(o,"pswp__ui--hidden")}),m("parseVerticalMargin",U),function(){var e,n,l,r=function(o){if(o)for(var r=o.length,i=0;i<r;i++){e=o[i],n=e.className;for(var s=0;s<Z.length;s++)l=Z[s],n.indexOf("pswp__"+l.name)>-1&&(v[l.option]?(t.removeClass(e,"pswp__element--disabled"),l.onInit&&l.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};r(o.children);var i=t.getChildByClass(o,"pswp__top-bar");i&&r(i.children)}(),v.shareEl&&u&&c&&(F=!0),K(),v.timeToIdle&&m("mouseUsed",function(){t.bind(document,"mousemove",D),t.bind(document,"mouseout",A),b=setInterval(function(){2==++M&&I.setIdle(!0)},v.timeToIdle/2)}),v.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=I.getFullscreenAPI()),n?(t.bind(document,n.eventK,I.updateFullscreen),I.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),v.preloaderEl&&(P(!0),m("beforeChange",function(){clearTimeout(w),w=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&P(!1):P(!0)},v.loadingIndicatorDelay)}),m("imageLoadComplete",function(t,n){e.currItem===n&&P(!0)}))},I.setIdle=function(e){p=e,k(o,"ui--idle",e)},I.update=function(){E&&e.currItem?(I.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(e.currItem,l),k(l,"caption--empty",!e.currItem.title)),T=!0):T=!1,F||O(),K()},I.updateFullscreen=function(o){o&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},I.updateIndexIndicator=function(){v.counterEl&&(i.innerHTML=e.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn()),v.loop||(0==e.getCurrentIndex()?t.addClass(s,"pswp__element--disabled"):t.removeClass(s,"pswp__element--disabled"),e.getCurrentIndex()==v.getNumItemsFn()-1?t.addClass(a,"pswp__element--disabled"):t.removeClass(a,"pswp__element--disabled"))},I.onGlobalTap=function(n){var o=(n=n||window.event).target||n.srcElement;if(!_)if(n.detail&&"mouse"===n.detail.pointerType){if(z(o))return void e.close();t.hasClass(o,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?v.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(v.tapToToggleControls&&(E?I.hideControls():I.showControls()),v.tapToClose&&(t.hasClass(o,"pswp__img")||z(o)))return void e.close()},I.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;k(o,"ui--over-close",z(t))},I.hideControls=function(){t.addClass(o,"pswp__ui--hidden"),E=!1},I.showControls=function(){E=!0,T||I.update(),t.removeClass(o,"pswp__ui--hidden")},I.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},I.getFullscreenAPI=function(){var t,n=document.documentElement,o="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(d=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return v.closeOnScroll=d,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}});