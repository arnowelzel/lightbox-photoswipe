jQuery(function(t){var o=window.PhotoSwipe,e=window.PhotoSwipeUI_Default;t("body").on("click","a[data-width]:has(img)",function(t){o&&e&&(t.preventDefault(),l(!1,0,this,!1,""))});var l=function(l,i,n,s,a){var r,p,c,d,u=1,w=t(".pswp").get(0);u=null!=n?n.getAttribute("data-gallery-id"):i,c=function(o,e){var l,i=[];return(null==e?t("body").find("a[data-width]:not([data-gallery-id]):has(img)"):t("body").find('a[data-width][data-gallery-id="'+e+'"]:has(img)')).each(function(e){var n=t(this),s=null;null==(s=n.attr("data-caption"))&&(null!=n.attr("data-caption-title")&&(s='<div class="pswp__caption__title">'+n.attr("data-caption-title")+"</div>"),null!=n.attr("data-caption-desc")&&(null==s&&(s=""),s=s+'<div class="pswp__caption__desc">'+n.attr("data-caption-desc")+"</div>")),null==s&&(describedby=n.children().first().attr("aria-describedby"),null!=describedby?(description=t("#"+describedby),null!=description&&(s=description.text())):(describedby=n.children().first().attr("figcaption"),null!=describedby&&(s=n.next().text()))),null==s&&(s=n.next().is(".wp-caption-text")?n.next().text():n.parent().next().is(".wp-caption-text")?n.parent().next().text():n.parent().next().is(".gallery-caption")?n.parent().next().text():n.next().is("figcaption")?n.next().text():n.parent().parent().next().is("figcaption")?n.parent().parent().next().text():n.attr("title")),null==s&&"1"==lbwps_options.use_alt&&(s=n.children().first().attr("alt")),i.push({src:n.attr("href"),w:n.attr("data-width"),h:n.attr("data-height"),title:s,exif:n.attr("data-exif"),getThumbBoundsFn:!1,showHideOpacity:!0,el:n}),o===n.get(0)&&(l=e)}),[i,parseInt(l,10)]}(n,u),d=0==l?c[1]:l,c=c[0],p={index:d,getThumbBoundsFn:!1,showHideOpacity:!0,loop:!0,tapToToggleControls:!0,clickToCloseNonZoomable:!1},null!=u&&(p.galleryUID=u),"0"==lbwps_options.close_on_click&&(p.closeElClasses=["pspw__button--close"]),"1"==lbwps_options.share_facebook||"1"==lbwps_options.share_twitter||"1"==lbwps_options.share_pinterest||"1"==lbwps_options.share_download?(p.shareEl=!0,p.shareButtons=[],"1"==lbwps_options.share_facebook&&("1"==lbwps_options.share_direct?url="https://www.facebook.com/sharer/sharer.php?u={{image_url}}":url="https://www.facebook.com/sharer/sharer.php?u={{url}}",p.shareButtons.push({id:"facebook",label:lbwps_options.label_facebook,url:url})),"1"==lbwps_options.share_twitter&&("1"==lbwps_options.share_direct?url="https://twitter.com/intent/tweet?text={{text}}&url={{image_url}}":url="https://twitter.com/intent/tweet?text={{text}}&url={{url}}",p.shareButtons.push({id:"twitter",label:lbwps_options.label_twitter,url:url})),"1"==lbwps_options.share_pinterest&&p.shareButtons.push({id:"pinterest",label:lbwps_options.label_pinterest,url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"}),"1"==lbwps_options.share_download&&p.shareButtons.push({id:"download",label:lbwps_options.label_download,url:"{{raw_image_url}}",download:!0})):p.shareEl=!1,"1"==lbwps_options.close_on_scroll&&(p.closeOnScroll=!1),"1"==lbwps_options.close_on_drag&&(p.closeOnVerticalDrag=!1),"1"==lbwps_options.history?p.history=!0:p.history=!1,"1"==lbwps_options.show_counter?p.counterEl=!0:p.counterEl=!1,"1"==lbwps_options.show_fullscreen?p.fullscreenEl=!0:p.fullscreenEl=!1,"1"==lbwps_options.show_zoom?p.zoomEl=!0:p.zoomEl=!1,"1"==lbwps_options.show_caption?p.captionEl=!0:p.captionEl=!1,"1"==lbwps_options.loop?p.loop=!0:p.loop=!1,"1"==lbwps_options.pinchtoclose?p.pinchToClose=!0:p.pinchToClose=!1,"1"==lbwps_options.taptotoggle?p.tapToToggleControls=!0:p.tapToToggleControls=!1,p.spacing=lbwps_options.spacing/100,1==s&&(p.index=parseInt(d,10)-1),"1"==lbwps_options.fulldesktop&&(p.barsSize={top:0,bottom:0}),(r=new o(w,e,c,p)).listen("gettingData",function(t,o){if(o.w<1||o.h<1){var e=new Image;e.onload=function(){o.w=this.width,o.h=this.height,r.updateSize(!0)},e.src=o.src}}),""!=a&&r.listen("unbindEvents",function(){document.location.href=a}),r.init()},i=function(){var t=window.location.hash.substring(1),o={};if(t.length<5)return o;for(var e=t.split("&"),l=0;l<e.length;l++)if(e[l]){var i=e[l].split("=");i.length<2||(o[i[0]]=i[1])}return o.gid&&(o.gid=parseInt(o.gid,10)),o}();if(i.pid&&i.gid){var n="";void 0!==i.returnurl&&(n=i.returnurl),l(i.pid,i.gid,null,!0,n)}});